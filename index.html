<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pritam Karmakar Rony</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; scroll-behavior: smooth; }
    body { 
      /* Use a classic serif font across the entire site for a professional look */
      font-family: 'Cambria', serif; 
      overflow-x: hidden; 
      background: #f5f1e0; 
      line-height: 1.6;
      color: #333;
    }

    /* Mobile view class */
    .mobile-view {
      --sidebar-width: 0px;
    }
    
    /* Theme Styles */
    .dark-theme {
      background: #121212;
      color: #f5f5f5;
    }
    .dark-theme .section, 
    .dark-theme .gallery-card { 
      background: #1f1f1f; 
    }
    .dark-theme .section-heading,
    .dark-theme .gallery-title { 
      color: #ffdd57; 
    }
    .dark-theme a, 
    .dark-theme .section-text { 
      color: #ccc; 
    }
    .dark-theme .sidebar { 
      background: linear-gradient(145deg, #121212, #000); 
    }

    /* Layout Styles */
    section { 
      width: 100%;
      padding: 60px 0;
      position: relative;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      position: relative;
      z-index: 2;
    }

    /* Floating Shapes Background */
    .floating-shapes {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      overflow: hidden;
    }
    
    .shape {
      position: absolute;
      opacity: 0.15;
      filter: blur(30px);
    }
    
    .circle {
      width: 300px;
      height: 300px;
      border-radius: 50%;
      background: #ffdd57;
      animation: float 25s infinite ease-in-out;
      top: 20%;
      left: 10%;
    }
    
    .triangle {
      width: 0;
      height: 0;
      border-left: 150px solid transparent;
      border-right: 150px solid transparent;
      border-bottom: 300px solid #4a8fe7;
      animation: float 30s infinite ease-in-out reverse;
      top: 50%;
      right: 15%;
    }
    
    .wave {
      width: 400px;
      height: 200px;
      background: radial-gradient(ellipse at center, #9c27b0 0%, transparent 70%);
      border-radius: 40%;
      animation: float 35s infinite ease-in-out, rotate 60s infinite linear;
      bottom: 10%;
      left: 20%;
    }
    
    @keyframes float {
      0%, 100% { transform: translate(0, 0); }
      25% { transform: translate(50px, 50px); }
      50% { transform: translate(100px, -30px); }
      75% { transform: translate(-50px, 70px); }
    }
    
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    /* Header/Cover Styles */
    .cover-page {
      height: 100vh; 
      position: relative; 
      display: flex; 
      align-items: center; 
      justify-content: flex-start;
      padding-left: 5%; 
      background: linear-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.1)),
            url('20241017_112143.jpg') center/cover no-repeat;
      overflow: hidden;
    }
    #typewriter {
      position: relative; 
      z-index: 1; 
      font-size: 2.5rem;
      color: #fff; 
      white-space: pre-wrap;
      border-right: .15em solid #ffdd57; 
      overflow: hidden;
      animation: blink-caret .75s step-end infinite; 
      max-width: 80%;
      text-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    @keyframes blink-caret { 
      from, to { border-color: transparent } 
      50% { border-color: #ffdd57; } 
    }

    /* Sidebar Navigation */
    .sidebar {
      background: linear-gradient(145deg, #2c2c2c, #1e1e1e);
      box-shadow: 2px 0 15px rgba(0,0,0,0.5);
      position: fixed; 
      top: 0; 
      left: 0;
      width: 250px; 
      height: 100%;
      /* Leave a small 30px handle visible when collapsed so the user can hover to reveal it */
      transform: translateX(-220px); 
      transition: transform .3s ease;
      z-index: 1000;
    }
    .sidebar.open { transform: translateX(0); }
    /* When the user hovers over the sidebar (including the visible handle), slide it fully into view */
    .sidebar:hover { transform: translateX(0); }
    .sidebar ul {
      list-style: none;
      padding: 80px 30px;
      display: flex;
      flex-direction: column;
      gap: 25px;
    }
    .sidebar li { margin: 15px 0; }
    .sidebar a {
      display: flex;
      align-items: center;
      gap: 10px;
      color: #ffdd57;
      text-decoration: none;
      font-size: 1.1rem;
      font-weight: 500;
      transition: all .3s ease;
    }
    .sidebar a:hover { 
      color: #ffffff;
      transform: translateX(5px);
    }

    /* Section Styles */
    .section {
      background: rgba(255,255,255,0.85);
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 40px;
      margin-bottom: 30px;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    .section:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.15);
    }
    .section-heading {
      font-size: 2rem;
      color: #2c3e50;
      margin-bottom: 20px;
      position: relative;
      padding-bottom: 10px;
    }
    .section-heading::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 60px;
      height: 3px;
      background: #ffdd57;
    }
    .section-text {
      font-size: 1.1rem;
      color: #555;
      line-height: 1.8;
    }

    /* Elegant Section Divider */
    .custom-shape-divider {
      position: relative;
      height: 60px;
      overflow: hidden;
    }
    
    .custom-shape-divider svg {
      position: relative;
      display: block;
      width: calc(100% + 1.3px);
      height: 100%;
    }
    
    .custom-shape-divider .shape-fill {
      fill: #ffdd57;
    }
    
    .dark-theme .custom-shape-divider .shape-fill {
      fill: #2c3e50;
    }

    /* Gallery Section */
    .gallery-title {
      text-align: center;
      font-size: 3rem;
      color: #2c3e50;
      margin-bottom: 40px;
      position: relative;
      background: linear-gradient(90deg, #ffdd57, #ff9500, #ff2e63, #c70039);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      background-size: 300% 300%;
      animation: gradientShift 8s ease infinite;
    }
    
    .gallery-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background: linear-gradient(90deg, #ffdd57, #ff9500, #ff2e63, #c70039);
      background-size: 300% 300%;
      animation: gradientShift 8s ease infinite;
    }
    
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 25px;
      padding: 20px 0;
    }
    
    .gallery-card {
      position: relative;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      transition: all 0.5s ease;
      transform-style: preserve-3d;
      height: 250px;
      background: #fff;
    }
    
    .gallery-card:hover {
      transform: translateY(-10px) rotateX(5deg) rotateY(5deg);
      box-shadow: 0 15px 30px rgba(0,0,0,0.2);
    }
    
    .gallery-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    
    .gallery-card:hover .gallery-img {
      transform: scale(1.05);
    }
    
    .gallery-caption {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
      color: white;
      padding: 20px;
      transform: translateY(100%);
      transition: transform 0.3s ease;
    }
    
    .gallery-card:hover .gallery-caption {
      transform: translateY(0);
    }
    
    .gallery-caption h3 {
      margin-bottom: 5px;
      font-size: 1.2rem;
    }
    
    .gallery-caption p {
      font-size: 0.9rem;
      opacity: 0.9;
    }
    
    /* Animation for card deal effect */
    @keyframes dealCard {
      0% {
        opacity: 0;
        transform: translateY(50px) rotate(-5deg) scale(0.9);
      }
      100% {
        opacity: 1;
        transform: translateY(0) rotate(0) scale(1);
      }
    }
    
    /* Apply different delays for each card */
    .gallery-card:nth-child(1) { animation: dealCard 0.6s ease 0.1s both; }
    .gallery-card:nth-child(2) { animation: dealCard 0.6s ease 0.2s both; }
    .gallery-card:nth-child(3) { animation: dealCard 0.6s ease 0.3s both; }
    .gallery-card:nth-child(4) { animation: dealCard 0.6s ease 0.4s both; }
    .gallery-card:nth-child(5) { animation: dealCard 0.6s ease 0.5s both; }
    .gallery-card:nth-child(6) { animation: dealCard 0.6s ease 0.6s both; }

    /* Skills Section */
    .skills-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
    .skill-card {
      background: #f9f9f9;
      padding: 20px;
      border-radius: 8px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    .skill-card:hover {
      background: #fff;
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    .skill-card::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        45deg,
        rgba(255,0,0,0.1) 0%,
        rgba(255,255,0,0.1) 15%,
        rgba(0,255,0,0.1) 30%,
        rgba(0,255,255,0.1) 50%,
        rgba(0,0,255,0.1) 65%,
        rgba(255,0,255,0.1) 80%,
        rgba(255,0,0,0.1) 100%
      );
      animation: holographic 8s linear infinite;
      z-index: 1;
      pointer-events: none;
    }
    
    .skill-content {
      position: relative;
      z-index: 2;
    }
    
    @keyframes holographic {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .skill-name {
      font-weight: 600;
      margin-bottom: 10px;
      color: #2c3e50;
    }
    .skill-bar {
      height: 8px;
      background: #e0e0e0;
      border-radius: 4px;
      overflow: hidden;
    }
    .skill-level {
      height: 100%;
      background: #ffdd57;
      border-radius: 4px;
    }

    /* Contact Form */
    .contact-form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-group.full-width {
      grid-column: span 2;
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }
    input, textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-family: inherit;
      font-size: 1rem;
      background: rgba(255,255,255,0.8);
    }
    textarea {
      min-height: 150px;
      resize: vertical;
    }
    button[type="submit"] {
      background: #ffdd57;
      color: #333;
      border: none;
      padding: 12px 30px;
      border-radius: 4px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    button[type="submit"]:hover {
      background: #ffd633;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(255,221,87,0.4);
    }
    button[type="submit"]::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        to bottom right,
        rgba(255,255,255,0) 0%,
        rgba(255,255,255,0) 45%,
        rgba(255,255,255,0.3) 48%,
        rgba(255,255,255,0.3) 52%,
        rgba(255,255,255,0) 55%,
        rgba(255,255,255,0) 100%
      );
      transform: rotate(30deg);
      animation: shimmer 3s infinite linear;
    }
    
    @keyframes shimmer {
      0% { transform: translateX(-100%) rotate(30deg); }
      100% { transform: translateX(100%) rotate(30deg); }
    }

    /* Theme Toggle Button */
    .theme-toggle {
      position: fixed; 
      top: 20px; 
      right: 20px; 
      z-index: 1001; 
      background: #000; 
      color: #fff; 
      border: none; 
      padding: 10px 15px; 
      border-radius: 6px; 
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .theme-toggle:hover {
      transform: scale(1.1);
      box-shadow: 0 0 10px rgba(255,255,255,0.3);
    }

    /* Sidebar Toggle Button */
    .sidebar-toggle {
      position: fixed; 
      top: 50%; 
      left: 0; 
      transform: translate(-50%, -50%); 
      background: #ffdd57; 
      color: #000; 
      padding: 8px 12px; 
      border-radius: 0 5px 5px 0; 
      font-weight: bold; 
      cursor: pointer; 
      z-index: 1001;
      transition: all 0.3s ease;
      /* Hide the old sidebar toggle button since hover now controls the sidebar */
      display: none;
    }
    .sidebar-toggle:hover {
      padding: 8px 15px;
      box-shadow: 0 0 10px rgba(255,221,87,0.5);
    }

    /* Mobile Toggle Button */
    .mobile-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1002;
      background: #4a8fe7;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 5px;
      font-weight: 500;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    /* Hide the mobile view toggle button since the site adapts automatically */
    .mobile-toggle {
      display: none !important;
    }
    .mobile-toggle:hover {
      background: #3a7bd5;
      transform: translateY(-2px);
    }
    .mobile-toggle i {
      font-size: 1.2rem;
    }

    /* Animations */
    .scroll-reveal {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.6s ease;
    }
    .scroll-reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }
    @keyframes fadeInScale {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    /* Particle Background */
    #particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.3;
    }

    /* Section Entry Animation */
    .section-entry {
      position: relative;
      overflow: hidden;
    }
    
    .section-entry::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, rgba(255,221,87,0.8), rgba(74,143,231,0.8));
      z-index: 1;
      transform: translateX(-100%);
      transition: transform 1s ease-out;
    }
    
    .section-entry.animate::before {
      transform: translateX(100%);
    }
    
    /* Go Top Button */
    .go-top {
      position: fixed;
      bottom: 80px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #ffdd57, #ff9500);
      color: #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      z-index: 999;
      opacity: 0;
      visibility: hidden;
      transform: translateY(20px);
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .go-top:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
    }
    
    .go-top.active {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
    
    .go-top::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 2px solid #ffdd57;
      animation: pulse 2s infinite;
      z-index: -1;
    }
    
    @keyframes pulse {
      0% {
        transform: scale(0.8);
        opacity: 0.7;
      }
      70% {
        transform: scale(1.2);
        opacity: 0;
      }
      100% {
        transform: scale(0.8);
        opacity: 0;
      }
    }
    
    /* Custom Cursor */
    .custom-cursor {
      position: fixed;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      pointer-events: none;
      transform: translate(-50%, -50%);
      z-index: 9999;
      transition: 
        transform none,
        width 0s ease,
        height 0s ease,
        background 0s ease;
      will-change: transform;
      filter: drop-shadow(0 0 4px rgba(0,0,0,0.2));
    }
    
    /* Light Theme Cursor */
    body:not(.dark-theme) .custom-cursor {
      background: radial-gradient(circle, 
        rgba(0, 150, 255, 0.9) 0%, 
        rgba(0, 200, 255, 0.6) 50%,
        rgba(255, 255, 255, 0.3) 80%);
      border: 2px solid rgba(255, 255, 255, 0.8);
    }
    
    /* Dark Theme Cursor */
    body.dark-theme .custom-cursor {
      background: radial-gradient(circle, 
        rgba(255, 100, 100, 0.9) 0%, 
        rgba(255, 150, 50, 0.7) 50%,
        rgba(255, 255, 255, 0.3) 80%);
      border: 2px solid rgba(255, 255, 255, 0.5);
    }
    
    /* Light Theme Hover */
    body:not(.dark-theme) a:hover ~ .custom-cursor,
    body:not(.dark-theme) button:hover ~ .custom-cursor,
    body:not(.dark-theme) .paper-card:hover ~ .custom-cursor {
      background: radial-gradient(circle, 
        rgba(200, 0, 255, 0.9) 0%, 
        rgba(150, 0, 200, 0.7) 70%);
    }
    
    /* Dark Theme Hover */
    body.dark-theme a:hover ~ .custom-cursor,
    body.dark-theme button:hover ~ .custom-cursor,
    body.dark-theme .paper-card:hover ~ .custom-cursor {
      background: radial-gradient(circle, 
        rgba(100, 255, 255, 0.9) 0%, 
        rgba(0, 200, 255, 0.7) 70%);
    }
    
    /* Click Effect */
    html:active .custom-cursor {
      transform: translate(-50%, -50%) scale(0.6);
    }
    
    /* Restore the default cursor */
    html {
      cursor: default;
    }

    /* Mobile-specific styles */
    @media (max-width: 768px) {
      /* General mobile adjustments */
      body:not(.mobile-view) {
        overflow-x: hidden;
      }
      
      /* Typewriter effect */
      #typewriter {
        font-size: 1.8rem;
        max-width: 90%;
      }
      
      /* Sidebar adjustments */
      .sidebar {
        width: 280px;
        /* Leave a 30px handle visible on mobile as well */
        transform: translateX(-250px);
      }
      
      /* Section padding */
      section {
        padding: 40px 0;
      }
      
      .section {
        padding: 25px;
        margin-bottom: 20px;
      }
      
      /* Gallery grid */
      .gallery-grid {
        grid-template-columns: 1fr;
      }
      
      .gallery-title {
        font-size: 2rem;
      }
      
      /* Contact form */
      .contact-form {
        grid-template-columns: 1fr;
      }
      
      .form-group.full-width {
        grid-column: span 1;
      }
      
      /* Skills grid */
      .skills-grid {
        grid-template-columns: 1fr;
      }
      
      /* About section adjustments */
      .about-box {
        flex-direction: column;
        width: 100%;
        border-radius: 20px;
      }
      
      .about-box::after {
        display: none;
      }
      
      .about-image {
        padding: 2rem;
        flex: 1 1 auto;
      }
      
      .about-content {
        padding: 2rem;
      }
      
      /* Education section */
      .education-card {
        flex-direction: column;
      }
      
      .education-icon {
        margin-bottom: 15px;
      }
      
      /* Experience section */
      .experience-card {
        padding: 1.5rem;
      }
      
      .date-badge {
        position: static;
        margin-bottom: 15px;
        display: inline-block;
      }
      
      /* Hide floating shapes on mobile */
      .floating-shapes {
        display: none;
      }
      
      /* Adjust particle density */
      #particles {
        opacity: 0.1;
      }
      
      /* Mobile view specific styles */
      body.mobile-view {
        --sidebar-width: 0px;
      }
      
      body.mobile-view .container {
        padding: 0 15px;
      }
      
      body.mobile-view .section {
        width: 100%;
        padding: 20px;
        margin-bottom: 15px;
        border-radius: 8px;
      }
      
      body.mobile-view .section-heading {
        font-size: 1.5rem;
      }
      
      body.mobile-view .gallery-card {
        height: 200px;
      }
      
      body.mobile-view .contact-form {
        display: flex;
        flex-direction: column;
      }
      
      body.mobile-view #typewriter {
        font-size: 1.5rem;
      }
      
      /* Adjust button positions for mobile */
      .theme-toggle {
        top: 15px;
        right: 15px;
        padding: 8px 12px;
      }
      
      .sidebar-toggle {
        top: 15px;
        left: 15px;
        transform: none;
        border-radius: 5px;
      }
      
      .mobile-toggle {
        bottom: 15px;
        right: 15px;
      }
      
      .go-top {
        width: 50px;
        height: 50px;
        font-size: 20px;
        bottom: 80px;
        right: 15px;
      }
    }

    /* Very small screens */
    @media (max-width: 480px) {
      #typewriter {
        font-size: 1.3rem;
      }
      
      .section-heading {
        font-size: 1.8rem;
      }
      
      .gallery-title {
        font-size: 1.8rem;
      }
      
      .about-content {
        padding: 1.5rem;
      }
      
      .about-image {
        padding: 1.5rem;
      }
    }

    /* ------------------------------------------------------------------ */
    /* Custom modifications to improve performance and usability          */
    /* Hide heavy decorative backgrounds and cursors to eliminate lag    */
    .floating-shapes,
    #particles,
    .custom-cursor {
      display: none !important;
    }

    /* Collapsible gallery: when the 'collapsed' class is applied the
       gallery cards are hidden */
    .gallery-grid.collapsed {
      display: none;
    }

    /* Navigation handle to make the sidebar obvious when collapsed */
    .nav-handle {
      position: absolute;
      top: 50%;
      right: -30px;
      transform: translateY(-50%) rotate(90deg);
      transform-origin: right center;
      font-size: 0.9rem;
      color: #fff;
      background: #007acc;
      padding: 4px 6px;
      border-radius: 0 5px 5px 0;
      pointer-events: none;
      white-space: nowrap;
    }
    .dark-theme .nav-handle {
      background: #b00020;
    }

    /* Navigation bar colors for light and dark themes */
    .sidebar {
      background: #007acc;
    }
    .dark-theme .sidebar {
      background: #330000;
    }

    /* ------------------------------------------------------------------ */
    /* Theme colour overrides                                            */
    /* Light theme uses a soft blue palette while dark theme is black/red */
    body {
      background: #e6f3ff;
      color: #333;
    }
    .section {
      background: rgba(255, 255, 255, 0.9);
    }
    .gallery-title {
      background: linear-gradient(90deg, #007acc, #00aaff, #006bb3, #004080);
      -webkit-background-clip: text;
      color: transparent;
    }
    .gallery-title::after {
      background: linear-gradient(90deg, #007acc, #00aaff, #006bb3, #004080);
    }
    /* Dark theme overrides */
    body.dark-theme {
      background: #000;
      color: #f5f5f5;
    }
    .dark-theme .section,
    .dark-theme .gallery-card {
      background: #111;
    }
    .dark-theme .section-heading,
    .dark-theme .gallery-title {
      color: #ff5555;
    }
    .dark-theme .gallery-title {
      background: linear-gradient(90deg, #ff5555, #e63946, #d62828, #a4161a);
      -webkit-background-clip: text;
      color: transparent;
    }
    .dark-theme .gallery-title::after {
      background: linear-gradient(90deg, #ff5555, #e63946, #d62828, #a4161a);
    }

    /* Improve readability of captions in dark theme */
    .dark-theme .gallery-caption h3,
    .dark-theme .gallery-caption p {
      color: #f5f5f5;
    }

    /* Ensure conference section background matches dark theme */
    body.dark-theme #conference {
      background: #000 !important;
    }

    /* Remove decorative section dividers */
    .custom-shape-divider {
      display: none;
    }

    /* Apply a z-axis transition to cards when they enter or leave the viewport.
       Include all major cards: about boxes, education, experience, research locations,
       findings, gallery, skills, publications, and projects. */
    .gallery-card,
    .education-card,
    .experience-card,
    .skill-card,
    .publication-card,
    .about-box,
    .location-card,
    .finding-card,
    .project-card,
    .paper-card {
      transition: transform 0.6s ease, box-shadow 0.6s ease;
      transform-style: preserve-3d;
      transform: perspective(1000px) translateZ(0);
    }
    .gallery-card.in-view,
    .education-card.in-view,
    .experience-card.in-view,
    .skill-card.in-view,
    .publication-card.in-view,
    .about-box.in-view,
    .location-card.in-view,
    .finding-card.in-view,
    .project-card.in-view,
    .paper-card.in-view {
      transform: perspective(1000px) translateZ(40px);
      box-shadow: 0 20px 30px rgba(0,0,0,0.2);
    }

    /* Colour of subheadings (e.g., Methodology) */
    #research h3 {
      color: #007acc;
    }
    .dark-theme #research h3 {
      color: #ff5555;
    }

    /* Apply the Satisfy font to all header elements for a handwritten style */
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Satisfy', cursive;
    }

    /* Ensure body copy uses the Dreaming Outloud Pro font consistently */
    body, p, li, span, .section-text {
      font-family: 'Dreaming Outloud Pro', serif;
    }

    /* Theme toggle button colours */
    .theme-toggle {
      background: #007acc;
      color: #fff;
    }
    .dark-theme .theme-toggle {
      background: #b00020;
      color: #fff;
    }

    /* Ensure research and publications sections have appropriate text colours */
    body:not(.dark-theme) #research,
    body:not(.dark-theme) #publications {
      color: #333;
    }
    body.dark-theme #research,
    body.dark-theme #publications {
      color: #ddd;
    }

    /* Override text color variables for light theme in research and publications sections */
    body:not(.dark-theme) #research {
      --text-color: #333;
    }
    body:not(.dark-theme) #publications {
      --text-color: #333;
    }

    /* ------------------------------------------------------------------ */
    /* Font overrides to satisfy user requirements                        */
    /* Force all primary headings within special sections (education,
       experience, skills, research and projects) to use the Satisfy font,
       overriding any section-specific font declarations. Likewise ensure
       subheadings and metadata use Cambria for body copy. */
    .education-section h3,
    .experience-section h3,
    .skills-section h3,
    .research-section h3,
    .projects-section h3 {
      font-family: 'Satisfy', cursive !important;
    }
    .education-section p,
    .education-section span,
    .experience-section p,
    .experience-section span,
    .research-section p,
    .research-section span,
    .skills-section p,
    .skills-section span,
    .projects-section p,
    .projects-section span {
      font-family: 'Dreaming Outloud Pro', serif !important;
    }

  </style>
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <!-- Google Font for headers (Satisfy for a handwritten look) -->
  <link href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap" rel="stylesheet">
  <!-- Google Font for body text (Dreaming Outloud Pro) -->
  <link href="https://fonts.googleapis.com/css2?family=Dreaming+Outloud+Pro&display=swap" rel="stylesheet">
</head>
<body>
  
  <!-- Floating Background Shapes -->
  <div class="floating-shapes">
    <div class="shape circle"></div>
    <div class="shape triangle"></div>
    <div class="shape wave"></div>
  </div>

  <!-- Particle Background -->
  <canvas id="particles"></canvas>

  <!-- Theme Toggle Button: displays a moon icon to indicate the theme switcher -->
  <button onclick="toggleTheme()" class="theme-toggle"><i class="fas fa-moon"></i></button>
  
  <!-- Mobile View Toggle Button -->
  <button onclick="toggleMobileView()" class="mobile-toggle">
    <i class="fas fa-mobile-alt"></i>
    <span class="mobile-toggle-text">Mobile View</span>
  </button>
  
  <!-- Sidebar Toggle Button -->
  <div class="sidebar-toggle" onclick="toggleSidebar()">☰</div>

  <!-- Sidebar Navigation -->
  <nav class="sidebar" id="sidebar">
    <!-- Visible handle on the collapsed navigation bar to indicate it can be opened -->
    <div class="nav-handle">Menu</div>
    <ul>
      <li><a href="#about" onclick="toggleSidebar()">👤 About</a></li>
      <li><a href="#research" onclick="toggleSidebar()">🔬 Research</a></li>
      <li><a href="#gallery" onclick="toggleSidebar()">🖼 Gallery</a></li>
      <li><a href="#skills" onclick="toggleSidebar()">🛠 Skills</a></li>
      <li><a href="#publications" onclick="toggleSidebar()">📚 Publications</a></li>
      <li><a href="#contact" onclick="toggleSidebar()">📞 Contact</a></li>
      <li><a href="resume.pdf" target="_blank">📄 Resume</a></li>
      <li><a href="https://www.linkedin.com/in/pritam-karmakar-rony-b78779b4/" target="_blank">🔗 LinkedIn</a></li>
      <li>📍 727 W Ave D, Apt 17<br>Kingsville, TX, USA</li>
    </ul>
  </nav>

  <!-- Cover Page -->
  <section class="cover-page">
    <div class="container">
      <h1 id="typewriter"></h1>
    </div>
  </section>

  <!-- About Section -->
  <div class="section-entry" id="about-section-entry"></div>
  <section id="about" style="position: relative; padding: 5rem 0; overflow: hidden; font-family: 'Dreaming Outloud Pro', serif;">
    <style>
      .about-container {
        position: relative;
        max-width: 1400px;
        margin-left: auto;
        padding-right: 2rem;
      }

      .about-box {
        display: flex;
        width: 85%;
        margin-left: auto;
        background: var(--card-bg, #ffffff);
        color: var(--text-color, #333);
        border-radius: 40px 0 0 40px;
        box-shadow: -10px 10px 30px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        position: relative;
        transition: all 0.3s ease;
      }

      /* Blue accent on the right edge */
      .about-box::after {
        content: '';
        position: absolute;
        right: 0;
        top: 0;
        height: 100%;
        width: 8px;
        background: linear-gradient(to bottom, var(--accent-dark, #1a3c5a), var(--accent-light, #4a90e2));
      }

      .about-image {
        flex: 0 0 35%;
        padding: 3rem;
        display: flex;
        justify-content: center;
        align-items: center;
        background: var(--image-bg, #e6f4f9);
      }

      .about-image img {
        width: 100%;
        max-width: 300px;
        border-radius: 20px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.12);
        transition: transform 0.3s ease;
      }

      .about-image img:hover {
        transform: scale(1.02);
      }

      .about-content {
        flex: 1;
        padding: 3rem 3rem 3rem 2rem;
      }

      .section-heading {
        font-size: 2rem;
        font-weight: 700;
        color: var(--heading-color, #1a3c5a);
        margin-bottom: 1.5rem;
        position: relative;
      }

      .section-heading:after {
        content: '';
        position: absolute;
        left: 0;
        bottom: -10px;
        width: 60px;
        height: 4px;
        background: linear-gradient(to right, var(--accent-dark, #1a3c5a), var(--accent-light, #4a90e2));
        border-radius: 2px;
      }

      .section-text {
        font-size: 1.1rem;
        line-height: 1.8;
        color: inherit;
        margin-bottom: 1.5rem;
      }

      .highlight-text {
        color: var(--accent-dark, #1a3c5a);
        font-weight: 600;
      }

      /* Dark theme variables */
      @media (prefers-color-scheme: dark) {
        :root {
          --card-bg: #1e1e1e;
          --text-color: #e0e0e0;
          --heading-color: #7ab0ff;
          --accent-dark: #3a6ea5;
          --accent-light: #5c9eff;
          --image-bg: #2a2a2a;
        }
        
        .about-box {
          box-shadow: -10px 10px 30px rgba(0, 0, 0, 0.3);
        }

        .about-image img {
          box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }
      }

      @media (max-width: 1200px) {
        .about-box {
          width: 90%;
        }
      }

      @media (max-width: 992px) {
        .about-container {
          padding-right: 1rem;
        }
        
        .about-box {
          width: 95%;
        }
        
        .about-image {
          flex: 0 0 50%;
          padding: 2rem;
        }
        
        .about-content {
          padding: 2rem;
        }
      }

      @media (max-width: 768px) {
        .about-box {
          width: 100%;
          border-radius: 20px 0 0 20px;
          flex-direction: column;
        }
        
        .about-image {
          flex: 1 1 auto;
          padding: 2rem 2rem 1rem 2rem;
        }
        
        .about-content {
          padding: 1.5rem 2rem 2rem 2rem;
        }
      }

      @media (max-width: 576px) {
        .about-image {
          padding: 1.5rem 1.5rem 0.5rem 1.5rem;
        }
        
        .about-content {
          padding: 1rem 1.5rem 1.5rem 1.5rem;
        }
        
        .section-heading {
          font-size: 1.7rem;
        }
      }
    </style>

    <!-- Main Content Container -->
    <div class="about-container">
      <div class="about-box">
        <!-- Image on the Left -->
        <div class="about-image">
          <img src="20250424_143338.jpg" alt="Pritam Karmakar Rony" />
        </div>
        
        <!-- About Me Content on the Right -->
        <div class="about-content">
          <h2 class="section-heading">About Me</h2>
          <div class="section-text">
            <p><strong style="font-size: 2em;">I'm Pritam Karmakar Rony</strong>, a Civil & Environmental Engineer and Researcher specializing in water quality and resource modeling. Currently pursuing my MS at Texas A&M University–Kingsville, I combine engineering expertise with advanced computational tools to address critical environmental challenges.</p>
            <p>My research focuses on understanding complex hydrological systems, particularly in coastal and estuarine environments. I integrate field data collection, numerical modeling, and data analytics to develop sustainable water management solutions.</p>
            <p>With a passion for environmental stewardship, I aim to bridge the gap between scientific research and practical engineering applications to create resilient water systems.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

 
<!-- Education Section -->
<section class="education-section">
  <div class="education-container">
    <h2 class="section-title">
      <span class="title-text">Academic Background</span>
      <span class="title-underline"></span>
    </h2>
    
    <div class="education-cards">
      <!-- Current Education -->
      <div class="education-card animate-card">
        <div class="education-icon">
          <i class="fas fa-graduation-cap"></i>
        </div>
        <div class="education-content">
          <h3>Master of Science in Environmental Engineering</h3>
          <div class="education-meta">
            <span class="institution">
              <i class="fas fa-university"></i>
              Texas A&M University - Kingsville
            </span>
            <span class="duration">
              <i class="far fa-calendar-alt"></i>
              Expected 2025 | Kingsville, Texas, USA
            </span>
          </div>
        </div>
      </div>
      
      <!-- Previous Education -->
      <div class="education-card animate-card">
        <div class="education-icon">
          <i class="fas fa-graduation-cap"></i>
        </div>
        <div class="education-content">
          <h3>Bachelor of Science in Civil and Environmental Engineering</h3>
          <div class="education-meta">
            <span class="institution">
              <i class="fas fa-university"></i>
              Shahjalal University of Science and Technology
            </span>
            <span class="duration">
              <i class="far fa-calendar-alt"></i>
              2018 - 2023 | Sylhet, Bangladesh
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Base Styles */
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap');
  @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css');
  
  .education-section {
    padding: 60px 20px;
    margin: 40px auto;
    max-width: 800px;
  }
  
  .education-container {
    background: white;
    border-radius: 12px;
    padding: 40px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
  }
  
  /* Section Title */
  .section-title {
    text-align: center;
    margin-bottom: 40px;
    position: relative;
  }
  
  .title-text {
    font-family: 'Playfair Display', serif;
    font-size: 2rem;
    font-weight: 600;
    color: #2c3e50;
    position: relative;
    display: inline-block;
    padding-bottom: 10px;
  }
  
  .title-underline {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 3px;
    background: linear-gradient(90deg, #3498db, #2ecc71);
    border-radius: 2px;
  }
  
  /* Education Cards */
  .education-cards {
    display: flex;
    flex-direction: column;
    gap: 25px;
  }
  
  .education-card {
    display: flex;
    gap: 20px;
    padding: 20px;
    border-radius: 8px;
    background: #f8fafc;
    transition: all 0.3s ease;
    transform: translateY(20px);
    opacity: 0;
  }
  
  .education-card.animate-card {
    animation: fadeInUp 0.5s forwards;
  }
  
  @keyframes fadeInUp {
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  
  .education-card:hover {
    background: #f1f8fe;
    transform: translateY(-3px) scale(1.01);
    box-shadow: 0 5px 15px rgba(52, 152, 219, 0.1);
  }
  
  .education-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #3498db, #2ecc71);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  
  .education-icon i {
    color: white;
    font-size: 1.3rem;
  }
  
  .education-content {
    flex: 1;
  }
  
  .education-content h3 {
    font-family: 'Poppins', sans-serif;
    font-size: 1.1rem;
    font-weight: 600;
    color: #2c3e50;
    margin-bottom: 8px;
  }
  
  .education-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
  }
  
  .institution, .duration {
    font-family: 'Poppins', sans-serif;
    font-size: 0.9rem;
    color: #7f8c8d;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  
  .institution i, .duration i {
    color: #3498db;
    font-size: 0.9rem;
  }
  
  /* Animation Delays */
  .education-card:nth-child(1) {
    animation-delay: 0.2s;
  }
  
  .education-card:nth-child(2) {
    animation-delay: 0.3s;
  }
  
  /* Dark Theme */
  .dark-theme .education-container {
    background: #1e293b;
    box-shadow: 0 5px 20px rgba(0,0,0,0.2);
  }
  
  .dark-theme .title-text {
    color: #f8fafc;
  }
  
  .dark-theme .education-card {
    background: #334155;
  }
  
  .dark-theme .education-card:hover {
    background: #3b4863;
  }
  
  .dark-theme .education-content h3 {
    color: #f8fafc;
  }
  
  .dark-theme .institution,
  .dark-theme .duration {
    color: #94a3b8;
  }
</style>

<script>
  // Intersection Observer for animations
  document.addEventListener('DOMContentLoaded', function() {
    const cards = document.querySelectorAll('.education-card');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-card');
          observer.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.1
    });
    
    cards.forEach(card => {
      observer.observe(card);
    });
  });
</script>
  <!-- Experience Section -->
  <div class="section-entry" id="experience-section-entry"></div>
  <section class="experience-section">
    <div class="experience-container">
      <h2 class="section-title">
        <span class="title-text">Professional Journey</span>
        <span class="title-underline"></span>
      </h2>
      
      <div class="experience-timeline">
        <!-- Current Position -->
        <div class="experience-card animate-card">
          <div class="date-badge">June 2024 - Present</div>
          <div class="card-content">
            <div class="card-header">
              <h3 class="position-title">Research Assistant</h3>
              <div class="position-meta">
                <span class="organization">
                  <i class="fas fa-university"></i>
                  Texas A&M University - Kingsville
                </span>
                <span class="location">
                  <i class="fas fa-map-marker-alt"></i>
                  Kingsville, Texas, USA
                </span>
              </div>
            </div>
            <div class="department-tag">Dept. of Environmental Engineering</div>
          </div>
        </div>
        
        <!-- Previous Position 1 -->
        <div class="experience-card animate-card">
          <div class="date-badge">June 2023 - May 2024</div>
          <div class="card-content">
            <div class="card-header">
              <h3 class="position-title">Research Consultant</h3>
              <div class="position-meta">
                <span class="organization">
                  <i class="fas fa-building"></i>
                  Center for Environmental and Geographic Information Services (CEGIS)
                </span>
                <span class="location">
                  <i class="fas fa-map-marker-alt"></i>
                  Dhaka, Bangladesh
                </span>
              </div>
            </div>
            <div class="department-tag">River, Delta and Coastal Morphology Division</div>
          </div>
        </div>
        
        <!-- Previous Position 2 -->
        <div class="experience-card animate-card">
          <div class="date-badge">April 2021 - May 2023</div>
          <div class="card-content">
            <div class="card-header">
              <h3 class="position-title">Research Assistant</h3>
              <div class="position-meta">
                <span class="organization">
                  <i class="fas fa-university"></i>
                  Shahjalal University of Science and Technology
                </span>
                <span class="location">
                  <i class="fas fa-map-marker-alt"></i>
                  Sylhet, Bangladesh
                </span>
              </div>
            </div>
            <div class="department-tag">Dept. of Civil and Environmental Engineering</div>
            <ul class="achievements-list">
              <li class="achievement-item">
                <i class="fas fa-caret-right"></i>
                Developed 1D/2D models in HEC-RAS and 3D models in Delft3D
              </li>
              <li class="achievement-item">
                <i class="fas fa-caret-right"></i>
                Performed hydrodynamic analysis and frequency studies
              </li>
              <li class="achievement-item">
                <i class="fas fa-caret-right"></i>
                Assessed dredging impact on Surma River hydrodynamics
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <style>
    /* Base Styles */
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap');
    @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css');
    
    .experience-section {
      padding: 80px 20px;
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      margin: 40px auto;
      border-radius: 16px;
      max-width: 1200px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    }
    
    .experience-container {
      max-width: 1000px;
      margin: 0 auto;
    }
    
    /* Section Title */
    .section-title {
      text-align: center;
      margin-bottom: 60px;
      position: relative;
    }
    
    .title-text {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      font-weight: 600;
      color: #2c3e50;
      position: relative;
      display: inline-block;
      padding-bottom: 15px;
    }
    
    .title-underline {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 4px;
      background: linear-gradient(90deg, #3498db, #2ecc71);
      border-radius: 2px;
    }
    
    /* Experience Cards */
    .experience-timeline {
      display: flex;
      flex-direction: column;
      gap: 30px;
    }
    
    .experience-card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
      overflow: hidden;
      position: relative;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
      transform: translateY(20px);
      opacity: 0;
      border: 1px solid #e2e8f0;
    }
    
    .animate-card {
      animation: fadeInUp 0.6s forwards;
    }
    
    @keyframes fadeInUp {
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }
    
    .experience-card:hover {
      transform: translateY(-5px) !important;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      border-color: #cbd5e1;
    }
    
    .date-badge {
      position: absolute;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #3498db, #2ecc71);
      color: white;
      padding: 6px 12px;
      border-radius: 20px;
      font-family: 'Poppins', sans-serif;
      font-size: 0.8rem;
      font-weight: 500;
      box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
    }
    
    .card-content {
      padding: 30px;
    }
    
    .card-header {
      margin-bottom: 15px;
      padding-bottom: 15px;
      border-bottom: 1px solid #f1f5f9;
    }
    
    .position-title {
      font-family: 'Poppins', sans-serif;
      font-size: 1.4rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 8px;
    }
    
    .position-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      font-family: 'Poppins', sans-serif;
    }
    
    .organization, .location {
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      gap: 6px;
      color: #7f8c8d;
    }
    
    .organization i, .location i {
      color: #3498db;
    }
    
    .department-tag {
      display: inline-block;
      background: #f1f8fe;
      color: #3498db;
      padding: 5px 12px;
      border-radius: 20px;
      font-family: 'Poppins', sans-serif;
      font-size: 0.85rem;
      font-weight: 500;
      margin: 10px 0 20px;
    }
    
    /* Achievements List */
    .achievements-list {
      margin-top: 20px;
      padding-left: 5px;
    }
    
    .achievement-item {
      font-family: 'Poppins', sans-serif;
      font-size: 0.95rem;
      color: #34495e;
      margin-bottom: 10px;
      line-height: 1.6;
      display: flex;
      align-items: flex-start;
      gap: 8px;
      transition: all 0.3s ease;
    }
    
    .achievement-item i {
      color: #2ecc71;
      margin-top: 4px;
      font-size: 0.8rem;
    }
    
    .achievement-item:hover {
      color: #2c3e50;
      transform: translateX(5px);
    }
    
    /* Animation Delays */
    .experience-card:nth-child(1) {
      animation-delay: 0.1s;
    }
    
    .experience-card:nth-child(2) {
      animation-delay: 0.2s;
    }
    
    .experience-card:nth-child(3) {
      animation-delay: 0.3s;
    }
    
    /* Dark Theme */
    .dark-theme .experience-section {
      background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    
    .dark-theme .title-text {
      color: #f8fafc;
    }
    
    .dark-theme .experience-card {
      background: #1e293b;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border-color: #334155;
    }
    
    .dark-theme .position-title {
      color: #f8fafc;
    }
    
    .dark-theme .organization,
    .dark-theme .location {
      color: #94a3b8;
    }
    
    .dark-theme .department-tag {
      background: rgba(30, 58, 138, 0.2);
      color: #60a5fa;
    }
    
    .dark-theme .achievement-item {
      color: #cbd5e1;
    }
    
    .dark-theme .card-header {
      border-bottom: 1px solid #334155;
    }
    
    .dark-theme .experience-card:hover {
      border-color: #475569;
    }
  </style>

  <script>
    // Intersection Observer for animations
    document.addEventListener('DOMContentLoaded', function() {
      const cards = document.querySelectorAll('.experience-card');
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-card');
            observer.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.1
      });
      
      cards.forEach(card => {
        observer.observe(card);
      });
    });
  </script>

  <!-- Research Section -->
  <div class="section-entry" id="research-section-entry"></div>
  <section id="research" class="scroll-reveal" style="padding: 5rem 0; position: relative; overflow: hidden;">
    <style>
      :root {
        --bg-color: #1a1a2e;
        --card-bg: #16213e;
        --text-color: #e6e6e6;
        --accent-color: #4cc9f0;
        --secondary-color: #f72585;
        --highlight-bg: rgba(76, 201, 240, 0.1);
        --border-color: rgba(255,255,255,0.1);
      }
      
      .research-container {
        position: relative;
        z-index: 2;
      }
      .expandable-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        background: var(--card-bg);
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        margin: 2rem 0;
        border: 1px solid var(--border-color);
      }
      .expandable-content.open {
        max-height: 2500px;
        padding: 2.5rem;
      }
      .expand-toggle {
        margin-top: 1.5rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, var(--accent-color) 0%, #4361ee 100%);
        color: white;
        padding: 0.8rem 1.8rem;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 500;
        letter-spacing: 0.5px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
        position: relative;
        overflow: hidden;
      }
      .expand-toggle:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(67, 97, 238, 0.4);
      }
      .expand-toggle:active {
        transform: translateY(0);
      }
      .expand-toggle::after {
        content: '';
        position: absolute;
        top: 50%;
        right: 20px;
        width: 12px;
        height: 12px;
        border-right: 2px solid white;
        border-bottom: 2px solid white;
        transform: translateY(-50%) rotate(45deg);
        transition: all 0.3s ease;
      }
      .expand-toggle.open::after {
        transform: translateY(-50%) rotate(-135deg);
      }
      .section-heading {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--accent-color);
        margin-bottom: 1.5rem;
        position: relative;
        display: inline-block;
      }
      .section-heading::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 0;
        width: 60px;
        height: 4px;
        background: linear-gradient(90deg, var(--accent-color) 0%, var(--secondary-color) 100%);
        border-radius: 2px;
      }
      .research-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }
      .location-card {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
        border-left: 4px solid var(--accent-color);
        position: relative;
        overflow: hidden;
        color: var(--text-color);
      }
      .location-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.3);
      }
      .location-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, rgba(76, 201, 240, 0.1) 0%, rgba(24, 38, 83, 0.1) 100%);
        z-index: 0;
      }
      .location-number {
        position: absolute;
        top: 10px;
        right: 10px;
        background: var(--secondary-color);
        color: white;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 0.8rem;
      }
      .research-bg-pattern {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0.03;
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%234cc9f0' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        z-index: 1;
      }
      .highlight-box {
        background: var(--highlight-bg);
        border-left: 4px solid var(--accent-color);
        padding: 1.5rem;
        border-radius: 0 8px 8px 0;
        margin: 1.5rem 0;
        color: var(--text-color);
      }
      .map-container {
        margin: 2rem 0;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        position: relative;
      }
      .map-container img {
        width: 90%;
        height: auto;
        display: block;
      }
      .map-caption {
        text-align: center;
        font-size: 0.9rem;
        color: var(--text-color);
        opacity: 0.8;
        margin-top: 0.5rem;
      }
      .research-section {
        color: var(--text-color);
      }
      .findings-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
      }
      .finding-card {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        border-top: 3px solid var(--secondary-color);
        color: var(--text-color);
      }
      .finding-card h4 {
        color: var(--accent-color);
        margin: 0 0 10px;
      }
      @media (max-width: 768px) {
        .expandable-content.open {
          padding: 1.5rem;
        }
        .research-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>

    <div class="research-bg-pattern"></div>

    <script>
      function toggleResearch() {
        const content = document.getElementById('expandable-research');
        const button = document.getElementById('toggle-btn');
        content.classList.toggle('open');
        button.classList.toggle('open');
        button.textContent = content.classList.contains('open') ? 'Show Less' : 'Show More';
        
        // Smooth scroll to maintain position
        if (content.classList.contains('open')) {
          setTimeout(() => {
            button.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
          }, 400);
        }
      }
    </script>

    <div class="container research-container">
      <div class="section research-section">
        <h2 class="section-heading">Current Research</h2>
        <p style="font-size: 1.1rem; color: var(--text-color); max-width: 800px; opacity: 0.9;">Exploring the dynamic interplay between coastal ecosystems and anthropogenic influences through cutting-edge environmental analysis.</p>

        <div id="expandable-research" class="section-text expandable-content">
          <div class="highlight-box">
            <p>I am currently leading a comprehensive research project investigating seasonal and spatial variations in water and sediment quality in the Nueces/Corpus Christi Bay area, Texas. This ecologically significant coastal region faces increasing pressures from urban development, industrial activity, and climate change.</p>
          </div>

          <h3 style="margin: 25px 0 15px; color: var(--accent-color); font-weight: 600; position: relative; padding-left: 15px;">Research Objectives</h3>
          <ul style="margin-left: 20px; margin-bottom: 25px; list-style-type: none;">
            <li style="padding: 8px 0; position: relative; padding-left: 30px; color: var(--text-color);">✓ Characterize seasonal variations in water quality parameters</li>
            <li style="padding: 8px 0; position: relative; padding-left: 30px; color: var(--text-color);">✓ Assess sediment composition and contaminant distribution</li>
            <li style="padding: 8px 0; position: relative; padding-left: 30px; color: var(--text-color);">✓ Identify pollution sources and transport mechanisms</li>
            <li style="padding: 8px 0; position: relative; padding-left: 30px; color: var(--text-color);">✓ Develop predictive models for water quality management</li>
          </ul>

          <h3 style="margin: 25px 0 15px; color: var(--accent-color); font-weight: 600; position: relative; padding-left: 15px;">Study Area</h3>
          <div class="map-container">
            <!-- Replace with your actual map image -->
            <img src="Study_Area.jpg" alt="Study Area Map">
            <div class="map-caption">Study area map showing sampling locations around the Nueces/Corpus Christi Bay</div>
          </div>

          <h3 style="margin: 25px 0 15px; color: var(--accent-color); font-weight: 600; position: relative; padding-left: 15px;">Methodology</h3>
          <p style="margin-bottom: 15px; color: var(--text-color);">
            Water and sediment sampling across the Nueces/Corpus Christi Bay follows a rigorous
            protocol. All collection bottles and jars are pre‑cleaned by soaking in laboratory
            detergent, rinsing, soaking in a 10&nbsp;% nitric acid solution and rinsing again with
            de‑ionised water. At each site, powder‑free gloves are worn, bottles are rinsed
            three times with site water, and three replicate water samples are collected by
            moving upstream to minimise disturbance of suspended sediments. Samples are
            transferred into amber glass jars with Teflon®‑lined lids, kept on ice and
            transported to the laboratory. Sediment samples are collected using a non‑reactive
            stainless‑steel scoop and stored in the same way. Analytical measurements are
            carried out using a YSI ProDSS meter for field pH, temperature, conductivity,
            salinity, total dissolved solids and dissolved oxygen; a V‑1200 spectrophotometer
            for ammonium and total phosphorus; ion chromatography for nitrate, nitrite and
            phosphate; inductively coupled plasma mass spectrometry (ICP‑MS) for heavy
            metals; vacuum filtration followed by oven‑drying for suspended sediment
            concentration; gas chromatography for pesticides; mechanical sieving and
            hydrometer methods for grain‑size distribution; and loss‑on‑ignition for organic
            carbon content. Sampling locations include Labonte Park, Nueces Bay, Sgt.&nbsp;J.D.&nbsp;Bock Park,
            Sugar Tree Apartments and Ennis Joslin Road.
          </p>
          <div class="research-grid">
            <div class="location-card">
              <div class="location-number">1</div>
              <h4 style="margin: 0 0 10px; color: var(--accent-color);">Labonte Park</h4>
              <p style="margin: 0; color: var(--text-color); opacity: 0.8; font-size: 0.9rem;">Urban-adjacent freshwater site</p>
            </div>
            <div class="location-card">
              <div class="location-number">2</div>
              <h4 style="margin: 0 0 10px; color: var(--accent-color);">Nueces Bay</h4>
              <p style="margin: 0; color: var(--text-color); opacity: 0.8; font-size: 0.9rem;">Primary estuarine environment</p>
            </div>
            <div class="location-card">
              <div class="location-number">3</div>
              <h4 style="margin: 0 0 10px; color: var(--accent-color);">Sgt. J.D. Bock Park</h4>
              <p style="margin: 0; color: var(--text-color); opacity: 0.8; font-size: 0.9rem;">Recreational waterfront area</p>
            </div>
            <div class="location-card">
              <div class="location-number">4</div>
              <h4 style="margin: 0 0 10px; color: var(--accent-color);">Sugar Tree Apartments</h4>
              <p style="margin: 0; color: var(--text-color); opacity: 0.8; font-size: 0.9rem;">Residential runoff point</p>
            </div>
            <div class="location-card">
              <div class="location-number">5</div>
              <h4 style="margin: 0 0 10px; color: var(--accent-color);">Ennis Joslin Road</h4>
              <p style="margin: 0; color: var(--text-color); opacity: 0.8; font-size: 0.9rem;">Transportation corridor impact zone</p>
            </div>
          </div>

          <h3 style="margin: 25px 0 15px; color: var(--accent-color); font-weight: 600; position: relative; padding-left: 15px;">Key Findings</h3>
          <p style="margin-bottom: 15px; color: var(--text-color);">Preliminary results reveal significant seasonal patterns:</p>
          <div class="findings-grid">
            <div class="finding-card">
              <h4>Water Chemistry</h4>
              <ul style="margin: 0; padding-left: 20px;">
                <li style="padding: 5px 0;">pH and salinity levels peak during fall</li>
                <li style="padding: 5px 0;">Dynamic nutrient cycling patterns</li>
              </ul>
            </div>
            <div class="finding-card">
              <h4>Sediment Analysis</h4>
              <ul style="margin: 0; padding-left: 20px;">
                <li style="padding: 5px 0;">Particle size shifts seasonally</li>
                <li style="padding: 5px 0;">Organic carbon composition changes</li>
              </ul>
            </div>
            <div class="finding-card">
              <h4>Contaminant Trends</h4>
              <ul style="margin: 0; padding-left: 20px;">
                <li style="padding: 5px 0;">Elevated nitrate concentrations</li>
                <li style="padding: 5px 0;">Undetectable phosphate in November</li>
              </ul>
            </div>
          </div>
        </div>

        <button id="toggle-btn" class="expand-toggle" onclick="toggleResearch()">
          <span>Show More</span>
        </button>
      </div>
    </div>
  </section>

  <!-- Elegant Animated Divider -->
  <div class="custom-shape-divider">
    <svg class="animated-divider" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
      <path fill="#f5f1e0" d="M0,64L80,80C160,96,320,128,480,160C640,192,800,224,960,208C1120,192,1280,128,1360,96L1440,64L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z">
        <animate 
          attributeName="d"
          dur="12s"
          repeatCount="indefinite"
          values="
            M0,64L80,80C160,96,320,128,480,160C640,192,800,224,960,208C1120,192,1280,128,1360,96L1440,64L1440,320L0,320Z;
            
            M0,96L100,112C200,128,400,160,600,192C800,224,1000,256,1200,240C1300,224,1400,160,1440,128L1440,320L0,320Z;
            
            M0,64L80,80C160,96,320,128,480,160C640,192,800,224,960,208C1120,192,1280,128,1360,96L1440,64L1440,320L0,320Z;
          "
        />
      </path>
    </svg>
  </div>

  <!-- Skills Section -->
  <div class="section-entry" id="skills-section-entry"></div>
  <section id="skills" class="scroll-reveal">
    <div class="container">
      <div class="section">
        <h2 class="section-heading">Technical Skills</h2>
        <div class="skills-grid">
          <div class="skill-card">
            <div class="skill-content">
              <div class="skill-name">Hydrological Modeling</div>
              <p class="skill-tools">HEC-RAS, Delft3D, SWAT, MODFLOW</p>
            </div>
          </div>
          <div class="skill-card">
            <div class="skill-content">
              <div class="skill-name">GIS & Spatial Analysis</div>
              <p class="skill-tools">ArcGIS, QGIS, Google Earth Engine</p>
            </div>
          </div>
          <div class="skill-card">
            <div class="skill-content">
              <div class="skill-name">Data Analysis</div>
              <p class="skill-tools">Python, R, MATLAB, Machine Learning</p>
            </div>
          </div>
          <div class="skill-card">
            <div class="skill-content">
              <div class="skill-name">Field Techniques</div>
              <p class="skill-tools">Water sampling, Sediment analysis</p>
            </div>
          </div>
          <div class="skill-card">
            <div class="skill-content">
              <div class="skill-name">Laboratory Analysis</div>
              <p class="skill-tools">ICP-MS, Ion Chromatography</p>
            </div>
          </div>
          <div class="skill-card">
            <div class="skill-content">
              <div class="skill-name">Technical Writing</div>
              <p class="skill-tools">Reports, Journal Articles, Proposals</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <style>
    .skills-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
    
    .skill-card {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .skill-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    
    .skill-name {
      font-weight: 600;
      font-size: 1.1rem;
      color: #2c3e50;
      margin-bottom: 10px;
    }
    
    .skill-tools {
      font-size: 0.95rem;
      color: #7f8c8d;
      line-height: 1.6;
    }
    
    /* Dark Theme Styles */
    .dark-theme .skill-card {
      background: #34495e;
    }
    
    .dark-theme .skill-name {
      color: #ecf0f1;
    }
    
    .dark-theme .skill-tools {
      color: #bdc3c7;
    }
    
    .dark-theme .section-heading {
      color: #a5d8ff;
    }
  </style>

  <!-- Projects Section -->
  <div class="section-entry" id="projects-section-entry"></div>
  <section id="projects" class="section-clear" style="padding: 4rem 0; position: relative;">
    <style>
      /* Base Styles */
      .projects-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 0 1.5rem;
      }
      
      /* Fancy Header */
      .section-header {
        text-align: center;
        margin-bottom: 3rem;
        position: relative;
      }
      
      .typewriter-title {
        display: inline-block;
        color: #2c3e50;
        font-size: 2.2rem;
        font-weight: 700;
        white-space: nowrap;
        overflow: hidden;
        border-right: 3px solid #4a90e2;
        width: 0;
        animation: typing 2.5s steps(30, end) forwards, blink 0.75s step-end infinite;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        position: relative;
        padding-bottom: 0.5rem;
      }
      
      .typewriter-title::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 4px;
        background: linear-gradient(90deg, #4a90e2, #1a3c5a);
        border-radius: 2px;
      }
      
      /* Project Card */
      .project-card {
        background: rgba(255, 255, 255, 0.92);
        padding: 2.5rem;
        border-radius: 18px;
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
        color: #333;
        position: relative;
        overflow: hidden;
      }
      
      .project-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 4px;
        height: 100%;
        background: linear-gradient(to bottom, #4a90e2, #1a3c5a);
      }
      
      .project-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
      }
      
      /* Project List Styling */
      .project-list {
        counter-reset: project-counter;
        padding-left: 1rem;
      }
      
      .project-list > li {
        counter-increment: project-counter;
        position: relative;
        padding-left: 2.5rem;
        margin-bottom: 1.8rem;
        font-size: 1.1rem;
        font-weight: 500;
        color: #2c3e50;
        list-style: none;
      }
      
      .project-list > li::before {
        content: counter(project-counter);
        position: absolute;
        left: 0;
        top: 0;
        background: linear-gradient(135deg, #4a90e2, #1a3c5a);
        color: white;
        width: 1.8rem;
        height: 1.8rem;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.9rem;
        font-weight: bold;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      }
      
      .project-sublist {
        margin-top: 0.8rem;
        margin-left: 1.5rem;
        padding-left: 1rem;
        border-left: 2px dashed rgba(74, 144, 226, 0.3);
      }
      
      .project-sublist li {
        position: relative;
        padding-left: 1.5rem;
        margin-bottom: 0.5rem;
        list-style: none;
      }
      
      .project-sublist li::before {
        content: '→';
        position: absolute;
        left: 0;
        color: #4a90e2;
        font-weight: bold;
      }
      
      /* Decorative Elements */
      .water-wave {
        position: absolute;
        bottom: -10px;
        left: 0;
        width: 100%;
        height: 100px;
        background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 1200 120" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none"><path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" fill="%234a90e2" opacity=".25"/><path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84
                      </div>
          </div>
        </div>
      </div>
      
      <div class="water-wave"></div>
    </div>
  </section>

  <!-- Publications Section -->
  <div class="section-entry" id="publications-section-entry"></div>
  <section id="publications" class="scroll-reveal" style="background: var(--bg-color); padding: 5rem 0; position: relative; overflow: hidden;">
    <style>
      .publication-card {
        background: var(--card-bg);
        padding: 2rem;
        border-radius: 10px;
        margin-bottom: 2rem;
        border-left: 4px solid var(--accent-color);
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      }
      .publication-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.3);
      }
      .publication-status {
        display: inline-block;
        padding: 0.3rem 0.8rem;
        border-radius: 50px;
        font-size: 0.8rem;
        font-weight: 600;
        margin-bottom: 1rem;
      }
      .status-in-prep {
        background: rgba(247, 37, 133, 0.2);
        color: var(--secondary-color);
        border: 1px solid var(--secondary-color);
      }
      .status-published {
        background: rgba(76, 201, 240, 0.2);
        color: var(--accent-color);
        border: 1px solid var(--accent-color);
      }
      .publication-link {
        display: inline-flex;
        align-items: center;
        margin-top: 1rem;
        color: var(--accent-color);
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
      }
      .publication-link:hover {
        color: var(--secondary-color);
      }
      .publication-link::after {
        content: '→';
        margin-left: 0.5rem;
        transition: all 0.3s ease;
      }
      .publication-link:hover::after {
        transform: translateX(3px);
      }
      .coauthor-highlight {
        color: var(--accent-color);
        font-weight: 600;
      }
    </style>

    <div class="research-bg-pattern"></div>

    <div class="container">
      <div class="section">
        <h2 class="section-heading">Publications</h2>
        
        <!-- Published Paper -->
        <div class="publication-card">
          <span class="publication-status status-published">Published</span>
          <h3 style="color: var(--accent-color); margin-bottom: 1rem;">Assessment of Dredging Impact on Hydrodynamics of a Semi-Enclosed Estuarine System</h3>
          <p style="color: var(--text-color); opacity: 0.9; margin-bottom: 1rem;"><em>Water Practice & Technology, IWA Publishing, 2023</em></p>
          <p style="color: var(--text-color); margin-bottom: 1.5rem;">This study evaluates the hydrodynamic changes in the Karnaphuli River estuary due to dredging activities using Delft3D modeling framework.</p>
          <a href="https://iwaponline.com/wpt/article/18/6/1437/95564/Assessment-of-dredging-impact-on-hydrodynamics-of" 
             target="_blank" 
             class="publication-link">
            View Publication
          </a>
        </div>
        
        <!-- Manuscripts in Preparation -->
        <div class="publication-card">
          <span class="publication-status status-in-prep">In Preparation</span>
          <h3 style="color: var(--accent-color); margin-bottom: 1rem;">Assessment of nutrient and heavy metal levels and distribution near the Nueces/Corpus Christi Bay</h3>
          <p style="color: var(--text-color); opacity: 0.9; margin-bottom: 1.5rem;">
            <em>Manuscript in preparation for submission to a peer-reviewed journal</em><br>
            <span class="coauthor-highlight">Karmakar Rony, P.</span>, Choi, J.-W., & Ren, J.
          </p>
          <p style="color: var(--text-color);">Comprehensive analysis of seasonal nutrient cycles and heavy metal distributions in the Nueces/Corpus Christi Bay ecosystem, identifying key pollution sources and spatial patterns.</p>
        </div>
        
        <div class="publication-card">
          <span class="publication-status status-in-prep">In Preparation</span>
          <h3 style="color: var(--accent-color); margin-bottom: 1rem;">Spatiotemporal variations of sediment loading and sizes and river channel dimensions and their implications</h3>
          <p style="color: var(--text-color); opacity: 0.9; margin-bottom: 1.5rem;">
            <em>Manuscript in preparation for submission to a peer-reviewed journal</em><br>
            Garcia, V., <span class="coauthor-highlight">Karmakar Rony, P.</span>, Choi, J.-W., & Ren, J.
          </p>
          <p style="color: var(--text-color);">Case study around the Nueces and Corpus Christi Bays, Texas examining sediment transport dynamics and their relationship with changing river channel morphology.</p>
        </div>
        
        <div class="publication-card">
          <span class="publication-status status-in-prep">In Preparation</span>
          <h3 style="color: var(--accent-color); margin-bottom: 1rem;">Machine Learning Approaches for Water Quality Prediction in Estuarine Environments</h3>
          <p style="color: var(--text-color); opacity: 0.9; margin-bottom: 1.5rem;"><em>In Preparation, 2024</em></p>
          <p style="color: var(--text-color);">Developing predictive models for water quality parameters using machine learning algorithms applied to long-term monitoring data from coastal ecosystems.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Game Section -->
  <div class="section-entry" id="game-section-entry"></div>
  <section id="game" class="scroll-reveal">
    <div class="container">
      <div class="section">
        <h2 class="section-heading">Water Quality Quiz Game</h2>
        <p class="section-text">Test your knowledge about water quality with this short quiz.</p>
        <div id="quiz-container">
          <button id="startQuizBtn" style="margin-bottom:20px;padding:10px 20px;background-color:#4a8fe7;color:#fff;border:none;border-radius:5px;cursor:pointer;font-family: inherit;">Start Quiz</button>
          <div id="question-container" style="display:none;">
            <h3 id="question" style="margin-bottom:15px;"></h3>
            <div id="options"></div>
            <!-- Explanation for the current question will appear here -->
            <div id="explanation" style="margin-top:15px; display:none; font-size:0.9rem;"></div>
            <button id="nextBtn" style="margin-top:20px;padding:8px 16px;background-color:#ffdd57;color:#333;border:none;border-radius:5px;cursor:pointer;font-family: inherit; display:none;">Next Question</button>
          </div>
          <div id="result-container" style="display:none; margin-top:20px;">
            <h3 id="result"></h3>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Divider -->
  <div class="custom-shape-divider">
    <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
      <path d="M1200 120L0 16.48 0 0 1200 0 1200 120z" class="shape-fill"></path>
    </svg>
  </div>

  <!-- Conference Papers Section -->
  <section id="conference" class="scroll-reveal section-clear" style="padding: 5rem 0; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
  <div class="conference-container">
    <!-- Section Header -->
    <div class="section-header">
      <h2 class="section-title">Conference Presentations</h2>
      <div class="title-decoration">
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </div>
    </div>

    <!-- Papers Timeline -->
    <div class="timeline-container">
      <!-- Timeline Item 1 -->
      <div class="timeline-item animated-fade" style="animation-delay: 0.2s;">
        <div class="timeline-year">2025</div>
        <div class="timeline-content">
          <div class="paper-card">
            <div class="paper-header">
              <span class="paper-badge">Upcoming</span>
              <h3 class="paper-title">Assessment of Nutrient and Heavy Metal Levels and Distribution near the Nueces/Corpus Christi Bay</h3>
            </div>
            <div class="paper-authors">Karmakar Rony, P., Choi, J.-W., & Ren, J.</div>
            <div class="paper-conference">
              <i class="fas fa-calendar-alt"></i> June 4, 2025
              <span class="separator">|</span>
              <i class="fas fa-map-marker-alt"></i> Universities Council on Water Resources (UCOWR) Annual Conference
              <span class="separator">|</span>
              <i class="fas fa-hotel"></i> Graduate Hotel, University of Minnesota, Minneapolis, MN
            </div>
          </div>
        </div>
      </div>

      <!-- Timeline Item 2 -->
      <div class="timeline-item animated-fade" style="animation-delay: 0.4s;">
        <div class="timeline-year">2025</div>
        <div class="timeline-content">
          <div class="paper-card">
            <div class="paper-header">
              <span class="paper-badge">Upcoming</span>
              <h3 class="paper-title">Spatiotemporal Variations of Sediment Loading and Sizes and River Channel Dimensions and Their Implications</h3>
            </div>
            <div class="paper-authors">Garcia, V., Karmakar Rony, P., Choi, J.-W., & Ren, J.</div>
            <div class="paper-conference">
              <i class="fas fa-calendar-alt"></i> June 4, 2025
              <span class="separator">|</span>
              <i class="fas fa-map-marker-alt"></i> Universities Council on Water Resources (UCOWR) Annual Conference
              <span class="separator">|</span>
              <i class="fas fa-hotel"></i> Graduate Hotel, University of Minnesota, Minneapolis, MN
            </div>
            <div class="paper-note">Case Study Around the Nueces and Corpus Christi Bays, Texas</div>
          </div>
        </div>
      </div>

      <!-- Timeline Item 3 -->
      <div class="timeline-item animated-fade" style="animation-delay: 0.6s;">
        <div class="timeline-year">2023</div>
        <div class="timeline-content">
          <div class="paper-card">
            <div class="paper-header">
              <h3 class="paper-title">Assessment of Dredging Impact on Hydrodynamics of Surma River using Mathematical Model</h3>
            </div>
            <div class="paper-authors"><strong>Pritam Karmakar Rony</strong> et al.</div>
            <div class="paper-conference">
              <i class="fas fa-map-marker-alt"></i> International Conference of Water and Flood Management, Dhaka
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=Poppins:wght@300;400;500&display=swap');
  @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css');

  .conference-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 0 30px;
  }

  .section-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .section-title {
    font-family: 'Playfair Display', serif;
    font-size: 2.2rem;
    font-weight: 600;
    color: #2c3e50;
    margin-bottom: 1rem;
    position: relative;
    display: inline-block;
  }

  .title-decoration {
    display: flex;
    justify-content: center;
    gap: 8px;
  }

  .dot {
    width: 8px;
    height: 8px;
    background-color: #3498db;
    border-radius: 50%;
    opacity: 0.7;
  }

  .timeline-container {
    position: relative;
    padding-left: 30px;
  }

  .timeline-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 6px;
    height: 100%;
    width: 2px;
    background: linear-gradient(to bottom, #3498db, #2ecc71);
  }

  .timeline-item {
    position: relative;
    margin-bottom: 2.5rem;
    padding-left: 30px;
  }

  .timeline-item:last-child {
    margin-bottom: 0;
  }

  .timeline-year {
    position: absolute;
    left: -30px;
    top: 0;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: #3498db;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Poppins', sans-serif;
    font-weight: 500;
    font-size: 1.1rem;
    box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
    z-index: 1;
  }

  .paper-card {
    background: white;
    border-radius: 10px;
    padding: 25px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .paper-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(to bottom, #3498db, #2ecc71);
  }

  .paper-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
  }

  .paper-header {
    margin-bottom: 12px;
    position: relative;
  }

  .paper-badge {
    position: absolute;
    top: -10px;
    right: -10px;
    background: #e74c3c;
    color: white;
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 500;
  }

  .paper-title {
    font-family: 'Poppins', sans-serif;
    font-weight: 500;
    font-size: 1.2rem;
    color: #2c3e50;
    margin-bottom: 8px;
    line-height: 1.4;
  }

  .paper-authors {
    font-family: 'Poppins', sans-serif;
    font-size: 0.95rem;
    color: #7f8c8d;
    margin-bottom: 10px;
    font-style: italic;
  }

  .paper-conference {
    font-family: 'Poppins', sans-serif;
    font-size: 0.9rem;
    color: #34495e;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 8px;
    margin-bottom: 5px;
  }

  .paper-conference i {
    color: #3498db;
    width: 16px;
    text-align: center;
  }

  .separator {
    color: #bdc3c7;
  }

  .paper-note {
    font-family: 'Poppins', sans-serif;
    font-size: 0.85rem;
    color: #7f8c8d;
    font-style: italic;
    margin-top: 8px;
  }

  /* Animation */
  .animated-fade {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.8s ease forwards;
  }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Dark Theme */
  .dark-theme #conference {
    background: linear-gradient(135deg, #2c3e50 0%, #1a252f 100%);
  }

  .dark-theme .section-title {
    color: #ecf0f1;
  }

  .dark-theme .paper-card {
    background: #34495e;
  }

  .dark-theme .paper-title {
    color: #ecf0f1;
  }

  .dark-theme .paper-authors {
    color: #bdc3c7;
  }

  .dark-theme .paper-conference {
    color: #ecf0f1;
  }

  .dark-theme .paper-note {
    color: #bdc3c7;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .section-title {
      font-size: 1.8rem;
    }
    
    .paper-title {
      font-size: 1.1rem;
    }
    
    .paper-conference {
      flex-direction: column;
      align-items: flex-start;
      gap: 5px;
    }
    
    .separator {
      display: none;
    }
  }
</style>

  <!-- Gallery Section -->
  <div class="section-entry" id="gallery-section-entry"></div>
  <section id="gallery" class="scroll-reveal">
    <div class="container">
      <div class="section">
        <h2 class="gallery-title">Research Gallery</h2>
        <!-- Button to collapse/expand the gallery. Initially the gallery is visible. -->
        <button id="toggleGalleryBtn" style="margin-bottom:20px;padding:10px 20px;background-color:#ffdd57;color:#333;border:none;border-radius:5px;cursor:pointer;font-family: inherit;">Hide Gallery</button>

        <div class="gallery-grid" id="galleryGrid">
          <div class="gallery-card">
            <img src="WhatsApp Image 2025-03-14 at 5.04.40 PM.jpg" alt="Field Research" class="gallery-img">
            <div class="gallery-caption">
              <h3>Field Sampling</h3>
              <p>Collecting water samples from Nueces Bay</p>
            </div>
          </div>
          <div class="gallery-card">
            <img src="20250424_143125.jpg" alt="Lab Analysis" class="gallery-img">
            <div class="gallery-caption">
              <h3>Lab Analysis</h3>
              <p>Conducting water quality tests in the laboratory</p>
            </div>
          </div>
          <div class="gallery-card">
            <img src="WhatsApp Image 2025-03-14 at 5.04.40 PM (1).jpg" alt="Data Collection" class="gallery-img">
            <div class="gallery-caption">
              <h3>Data Collection</h3>
              <p>Recording environmental parameters in the field</p>
            </div>
          </div>
          <div class="gallery-card">
            <img src="20250424_143346.jpg" alt="Equipment Setup" class="gallery-img">
            <div class="gallery-caption">
              <h3>Equipment Setup</h3>
              <p>Preparing sensors for continuous monitoring</p>
            </div>
          </div>
          <div class="gallery-card">
            <img src="20250416_155520.jpg" alt="Team Work" class="gallery-img">
            <div class="gallery-caption">
              <h3>Team Collaboration</h3>
              <p>Working with research colleagues in the field</p>
            </div>
          </div>
          <div class="gallery-card">
            <img src="20241017_112143.jpg" alt="Conference" class="gallery-img">
            <div class="gallery-caption">
              <h3>Conference Presentation</h3>
              <p>Sharing research findings at UCOWR 2025</p>
            </div>
          </div>

          <!-- Additional gallery items to enrich the gallery -->
          <div class="gallery-card">
            <img src="placeholder_light_gray_block.png" alt="Water Quality Modeling" class="gallery-img">
            <div class="gallery-caption">
              <h3>Water Quality Modeling</h3>
              <p>Visualizing simulated contaminant transport in the bay</p>
            </div>
          </div>
          <div class="gallery-card">
            <img src="placeholder_light_gray_block.png" alt="Community Outreach" class="gallery-img">
            <div class="gallery-caption">
              <h3>Community Outreach</h3>
              <p>Educating locals about sustainable water practices</p>
            </div>
          </div>
          <div class="gallery-card">
            <img src="placeholder_light_gray_block.png" alt="Sampling Equipment" class="gallery-img">
            <div class="gallery-caption">
              <h3>Sampling Equipment</h3>
              <p>Overview of instruments used for water quality monitoring</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Divider -->
  <div class="custom-shape-divider">
    <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
      <path d="M1200 120L0 16.48 0 0 1200 0 1200 120z" class="shape-fill"></path>
    </svg>
  </div>

  <!-- Contact Section -->
  <div class="section-entry" id="contact-section-entry"></div>
  <section id="contact" class="scroll-reveal">
    <div class="container">
      <div class="section">
        <h2 class="section-heading">Contact Me</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
          <div>
            <h3 style="margin-bottom: 20px; color: #2c3e50;">Get In Touch</h3>
            <p style="margin-bottom: 15px;"><strong>Email:</strong> pritam8july@gmail.com, pritam.rony@students.tamuk.edu</p>
            <p style="margin-bottom: 15px;"><strong>Phone:</strong> +1-361-228-9976</p>
            <p style="margin-bottom: 15px;"><strong>Address:</strong> 727 W Ave D, Apt 17, Kingsville, TX 78363</p>
            <div style="margin-top: 30px;">
              <a href="https://www.linkedin.com/in/pritam-karmakar-rony-b78779b4/" target="_blank" style="display: inline-block; margin-right: 15px; color: #0066cc; text-decoration: none;">
                LinkedIn
              </a>
              <a href="resume.pdf" target="_blank" style="display: inline-block; color: #0066cc; text-decoration: none;">
                Download Resume
              </a>
            </div>
          </div>
          <div>
            <form class="contact-form">
              <div class="form-group">
                <label for="name">Name</label>
                <input type="text" id="name" required>
              </div>
              <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" required>
              </div>
              <div class="form-group full-width">
                <label for="subject">Subject</label>
                <input type="text" id="subject" required>
              </div>
              <div class="form-group full-width">
                <label for="message">Message</label>
                <textarea id="message" required></textarea>
              </div>
              <div class="form-group">
                <button type="submit">Send Message</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Custom Cursor -->
  <div class="custom-cursor"></div>

  <!-- Go Top Button -->
  <div class="go-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
    ↑
  </div>

  <script>
    // Typewriter Effect
    const typewriterText = "Pritam Karmakar Rony\nCivil & Environmental Engineer | NSF Fellow | Researcher\nWater Resources Specialist";
    const typewriterElement = document.getElementById('typewriter');
    let i = 0;
    
    function typeWriter() {
      if (i < typewriterText.length) {
        typewriterElement.innerHTML += typewriterText.charAt(i);
        i++;
        setTimeout(typeWriter, Math.random() * 100 + 50);
      }
    }
    
    // Theme Toggle
    function toggleTheme() {
      document.body.classList.toggle('dark-theme');
      localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light');
    }
    
    // Mobile View Toggle
    function toggleMobileView() {
      document.body.classList.toggle('mobile-view');
      const mobileToggle = document.querySelector('.mobile-toggle');
      const isMobileView = document.body.classList.contains('mobile-view');
      
      mobileToggle.querySelector('.mobile-toggle-text').textContent = isMobileView ? 'Desktop View' : 'Mobile View';
      localStorage.setItem('mobileView', isMobileView ? 'on' : 'off');
    }
    
    // Sidebar Toggle
    function toggleSidebar() {
      document.getElementById('sidebar').classList.toggle('open');
    }
    
    // Scroll to Top Button Visibility
    window.addEventListener('scroll', function() {
      const goTopBtn = document.querySelector('.go-top');
      if (window.pageYOffset > 300) {
        goTopBtn.classList.add('active');
      } else {
        goTopBtn.classList.remove('active');
      }
    });
    
    // Section Entry Animations
    const sectionEntries = document.querySelectorAll('.section-entry');
    
    const entryObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate');
        }
      });
    }, { threshold: 0.1 });
    
    sectionEntries.forEach(el => entryObserver.observe(el));
    
    // Scroll Reveal Animation
    const scrollReveals = document.querySelectorAll('.scroll-reveal');
    
    const revealObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.1 });
    
    scrollReveals.forEach(el => revealObserver.observe(el));
    
    // Animate skill bars on scroll
    const skillBars = document.querySelectorAll('.skill-level');
    
    const skillObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.width = entry.target.parentElement.dataset.width;
        }
      });
    }, { threshold: 0.5 });
    
    document.querySelectorAll('.skill-bar').forEach(el => {
      el.dataset.width = el.querySelector('.skill-level').style.width;
      el.querySelector('.skill-level').style.width = '0';
      skillObserver.observe(el);
    });
    
    // Gallery animation on scroll
    const galleryCards = document.querySelectorAll('.gallery-card');
    
    const galleryObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.animationPlayState = 'running';
        }
      });
    }, { threshold: 0.1 });
    
    galleryCards.forEach(card => {
      card.style.animationPlayState = 'paused';
      galleryObserver.observe(card);
    });
    
    // Add click to enlarge functionality for gallery images
    galleryCards.forEach(card => {
      card.addEventListener('click', function() {
        const imgSrc = this.querySelector('img').src;
        const caption = this.querySelector('h3').textContent;
        
        // Create modal
        const modal = document.createElement('div');
        modal.style.position = 'fixed';
        modal.style.top = '0';
        modal.style.left = '0';
        modal.style.width = '100%';
        modal.style.height = '100%';
        modal.style.backgroundColor = 'rgba(0,0,0,0.9)';
        modal.style.display = 'flex';
        modal.style.flexDirection = 'column';
        modal.style.justifyContent = 'center';
        modal.style.alignItems = 'center';
        modal.style.zIndex = '2000';
        modal.style.padding = '20px';
        modal.style.boxSizing = 'border-box';
        
        // Add image to modal
        const modalImg = document.createElement('img');
        modalImg.src = imgSrc;
        modalImg.style.maxWidth = '90%';
        modalImg.style.maxHeight = '80%';
        modalImg.style.objectFit = 'contain';
        modalImg.style.borderRadius = '5px';
        
        // Add caption
        const modalCaption = document.createElement('div');
        modalCaption.textContent = caption;
        modalCaption.style.color = 'white';
        modalCaption.style.marginTop = '20px';
        modalCaption.style.fontSize = '1.5rem';
        
        // Add close button
        const closeBtn = document.createElement('button');
        closeBtn.textContent = '✕';
        closeBtn.style.position = 'absolute';
        closeBtn.style.top = '20px';
        closeBtn.style.right = '20px';
        closeBtn.style.background = 'none';
        closeBtn.style.border = 'none';
        closeBtn.style.color = 'white';
        closeBtn.style.fontSize = '2rem';
        closeBtn.style.cursor = 'pointer';
        
        // Assemble modal
        modal.appendChild(closeBtn);
        modal.appendChild(modalImg);
        modal.appendChild(modalCaption);
        
        // Add to document
        document.body.appendChild(modal);
        
        // Close modal
        closeBtn.addEventListener('click', () => {
          document.body.removeChild(modal);
        });
        
        modal.addEventListener('click', (e) => {
          if (e.target === modal) {
            document.body.removeChild(modal);
          }
        });
      });
    });

    // Particle Background Animation
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    
    const particles = [];
    // Set the particle count to zero to disable the animated background and reduce CPU usage
    const particleCount = 0;
    
    class Particle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 3 + 1;
        this.speedX = Math.random() * 2 - 1;
        this.speedY = Math.random() * 2 - 1;
        this.color = `hsl(${Math.random() * 60 + 30}, 80%, 60%)`;
      }
      
      update() {
        this.x += this.speedX;
        this.y += this.speedY;
        
        if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
        if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
      }
      
      draw() {
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
        
        // Create connections
        particles.forEach(particle => {
          const dx = this.x - particle.x;
          const dy = this.y - particle.y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          
          if (distance < 100) {
            ctx.strokeStyle = `rgba(255, 221, 87, ${1 - distance/100})`;
            ctx.lineWidth = 0.5;
            ctx.beginPath();
            ctx.moveTo(this.x, this.y);
            ctx.lineTo(particle.x, particle.y);
            ctx.stroke();
          }
        });
      }
    }
    
    function initParticles() {
      for (let i = 0; i < particleCount; i++) {
        particles.push(new Particle());
      }
    }
    
    function animateParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach(particle => {
        particle.update();
        particle.draw();
      });
      requestAnimationFrame(animateParticles);
    }
    
    initParticles();
    // Only animate particles when there are particles to animate
    if (particleCount > 0) {
      animateParticles();
    }
    
    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });
    
    // Initialize theme from localStorage
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-theme');
    }
    
    // Initialize mobile view from localStorage
    if (localStorage.getItem('mobileView') === 'on') {
      document.body.classList.add('mobile-view');
      document.querySelector('.mobile-toggle-text').textContent = 'Desktop View';
    }
    
    // Custom Cursor Animation
    document.addEventListener('DOMContentLoaded', function() {
      const cursor = document.querySelector('.custom-cursor');
      // Skip cursor logic entirely if the custom cursor element isn't present
      if (!cursor) return;
      let mouseX = 0, mouseY = 0;
      let cursorX = 0, cursorY = 0;
      const delay = 0.1; // Smoothing factor (0-1)
      
      // Smooth follow animation
      function animateCursor() {
        const dx = mouseX - cursorX;
        const dy = mouseY - cursorY;
        
        cursorX += dx * delay;
        cursorY += dy * delay;
        
        cursor.style.left = cursorX + 'px';
        cursor.style.top = cursorY + 'px';
        
        requestAnimationFrame(animateCursor);
      }
      animateCursor();
      
      // Track mouse position
      document.addEventListener('mousemove', function(e) {
        mouseX = e.clientX;
        mouseY = e.clientY;
      });
      
      // Add hover class to interactive elements
      const interactiveElements = document.querySelectorAll(
        'a, button, .paper-card, [data-cursor-hover], input[type="button"], input[type="submit"]'
      );
      
      interactiveElements.forEach(el => {
        el.addEventListener('mouseenter', () => {
          cursor.classList.add('cursor-hover');
        });
        el.addEventListener('mouseleave', () => {
          cursor.classList.remove('cursor-hover');
        });
      });
    });

    // Start typewriter effect when page loads
    window.addEventListener('load', typeWriter);
  </script>

  <!-- Additional script for gallery toggle and quiz game -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      /* Gallery collapse/expand functionality */
      const galleryBtn = document.getElementById('toggleGalleryBtn');
      const galleryGrid = document.getElementById('galleryGrid');
      if (galleryBtn && galleryGrid) {
        galleryBtn.addEventListener('click', function() {
          galleryGrid.classList.toggle('collapsed');
          this.textContent = galleryGrid.classList.contains('collapsed') ? 'Show Gallery' : 'Hide Gallery';
        });
      }

      /* Simple quiz game logic */
      const startBtn = document.getElementById('startQuizBtn');
      const questionContainer = document.getElementById('question-container');
      const nextBtn = document.getElementById('nextBtn');
      const resultContainer = document.getElementById('result-container');
      const resultDisplay = document.getElementById('result');
      const questionDisplay = document.getElementById('question');
      const optionsDiv = document.getElementById('options');
      const explanationDiv = document.getElementById('explanation');
      const quizQuestions = [
        {
          question: 'What does a low dissolved oxygen level in water indicate about its quality?',
          options: [
            'Healthy aquatic life',
            'Possible pollution or eutrophication',
            'High alkalinity',
            'Freezing temperatures'
          ],
          answer: 1,
          explanation: 'Low dissolved oxygen often results from excess organic matter decomposition or nutrient pollution, which can lead to fish kills and eutrophication.',
          reference: 'https://www.epa.gov/national-aquatic-resource-surveys/indicator-dissolved-oxygen'
        },
        {
          question: 'Which of the following best describes turbidity in water quality testing?',
          options: [
            'Measure of water\'s acidity',
            'Measure of clarity or cloudiness of water',
            'Measure of salinity',
            'Measure of temperature'
          ],
          answer: 1,
          explanation: 'Turbidity measures how clear water is by quantifying the scattering of light caused by suspended particles.',
          reference: 'https://www.usgs.gov/special-topic/water-quality/science/turbidity'
        },
        {
          question: 'Why are nitrates and phosphates important to monitor in water bodies?',
          options: [
            'They help reduce algae growth',
            'Excessive amounts can cause harmful algal blooms',
            'They increase dissolved oxygen levels',
            'They are inert and have no impact'
          ],
          answer: 1,
          explanation: 'High concentrations of nitrates and phosphates from agricultural runoff or sewage lead to eutrophication and harmful algal blooms.',
          reference: 'https://www.epa.gov/nutrient-policy-data/cyanobacterial-harmful-algal-blooms-habs'
        }
      ];
      let currentQuestionIndex = 0;
      let score = 0;

      function showQuestion() {
        if (currentQuestionIndex >= quizQuestions.length) {
          questionContainer.style.display = 'none';
          resultContainer.style.display = 'block';
          resultDisplay.textContent = 'You scored ' + score + ' out of ' + quizQuestions.length + '!';
          return;
        }
        const current = quizQuestions[currentQuestionIndex];
        questionDisplay.textContent = current.question;
        // Reset options and explanation for new question
        optionsDiv.innerHTML = '';
        if (explanationDiv) {
          explanationDiv.innerHTML = '';
          explanationDiv.style.display = 'none';
        }
        current.options.forEach((opt, idx) => {
          const btn = document.createElement('button');
          btn.textContent = opt;
          btn.style.display = 'block';
          btn.style.marginBottom = '10px';
          btn.style.padding = '8px 12px';
          btn.style.backgroundColor = '#e0e0e0';
          btn.style.border = 'none';
          btn.style.borderRadius = '4px';
          btn.style.cursor = 'pointer';
          btn.style.fontFamily = 'inherit';
          btn.addEventListener('click', function() {
            // Highlight selected answer
            if (idx === current.answer) {
              btn.style.backgroundColor = '#c8e6c9';
              score++;
            } else {
              btn.style.backgroundColor = '#ff8a80';
            }
            // Disable all buttons after selection
            Array.from(optionsDiv.children).forEach(b => b.disabled = true);
            // Show explanation with reference for the current question
            if (explanationDiv) {
              let refLink = '';
              if (current.reference) {
                refLink = ' <a href="' + current.reference + '" target="_blank" style="color: #007acc; text-decoration: underline;">source</a>';
              }
              explanationDiv.innerHTML = current.explanation + (refLink ? '<br><em>Reference:</em>' + refLink : '');
              explanationDiv.style.display = 'block';
            }
            nextBtn.style.display = 'inline-block';
          });
          optionsDiv.appendChild(btn);
        });
        nextBtn.style.display = 'none';
      }

      if (startBtn) {
        startBtn.addEventListener('click', function() {
          startBtn.style.display = 'none';
          questionContainer.style.display = 'block';
          resultContainer.style.display = 'none';
          currentQuestionIndex = 0;
          score = 0;
          showQuestion();
        });
      }

      if (nextBtn) {
        nextBtn.addEventListener('click', function() {
          currentQuestionIndex++;
          showQuestion();
        });
      }

      /* Observe cards and apply a z-axis translation when they enter or leave the viewport.
         Include about boxes, location cards, finding cards and project cards so that
         scrolling up and down triggers the transition repeatedly. */
      const zCards = document.querySelectorAll(
        '.gallery-card, .education-card, .experience-card, .skill-card, .publication-card, .paper-card, .about-box, .location-card, .finding-card, .project-card'
      );
      const zObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('in-view');
          } else {
            entry.target.classList.remove('in-view');
          }
        });
      }, { threshold: 0.1 });
      zCards.forEach(card => zObserver.observe(card));
    });
  </script>
</body>
</html>
